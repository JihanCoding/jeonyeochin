body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 20px;
    background-color: #f0f2f5;
    color: #333;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
}

.material-icons {
    font-size: 1.5rem;
    color: #d3d3d3;
}

.page-container {
    background-color: #ffffff;
    padding: 25px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 500px;
    box-sizing: border-box;
}

h1 {
    text-align: center;
    color: #1a73e8;
    margin-bottom: 25px;
    font-size: 1.8em;
}

#route-planner {
    display: flex;
    flex-direction: column;
    gap: 18px;
}

/* Base styles for location items (label and input side-by-side on larger screens) */
.location-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
    border: 1px solid #dadce0;
    border-radius: 6px;
    background-color: #fff;
}

.location-item label {
    font-weight: 500;
    color: #5f6368;
    min-width: 60px;
    /* Adjust as needed */
    flex-shrink: 0;
    /* Prevent label from shrinking */
}

.location-item input[type="text"] {
    flex-grow: 1;
    /* Takes up remaining space */
    padding: 10px;
    border: 1px solid #dadce0;
    border-radius: 4px;
    font-size: 1rem;
    min-width: 0;
    /* Important for flex items that can shrink */
}

.waypoint-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
    border: 1px solid #dadce0;
    border-radius: 6px;
    background-color: #fff;
    flex-wrap: wrap;
    /* Allow wrapping for waypoint text/input */
}

.location-item input[type="text"]:focus,
.waypoint-item .waypoint-input-field:focus {
    outline: none;
    border-color: #1a73e8;
    box-shadow: 0 0 0 2px rgba(26, 115, 232, 0.2);
}

.waypoint-action-icon {
    cursor: pointer;
    font-size: 1.4em;
    font-weight: bold;
    width: 26px;
    height: 26px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid;
    /* Color defined by .add or .remove */
    border-radius: 50%;
    user-select: none;
    transition: background-color 0.2s, color 0.2s;
    flex-shrink: 0;
}

.waypoint-action-icon.add {
    color: #1e8e3e;
    border-color: #1e8e3e;
}

.waypoint-action-icon.add:hover {
    background-color: rgba(30, 142, 62, 0.1);
}

.waypoint-action-icon.remove {
    color: #d93025;
    border-color: #d93025;
}

.waypoint-action-icon.remove:hover {
    background-color: rgba(217, 48, 37, 0.1);
}

.waypoint-text-label {
    flex-grow: 1;
    color: #5f6368;
    font-size: 0.95rem;
    padding: 8px 0;
    min-width: 100px;
    /* Ensure some minimum width for the label */
}

.waypoint-item .waypoint-input-field {
    flex-grow: 1;
    /* Allow input to take available space next to icon */
    padding: 10px;
    border: 1px solid #dadce0;
    border-radius: 4px;
    font-size: 1rem;
    min-width: 0;
    /* Allow shrinking */
    /* display: none; is handled by JavaScript */
}


/* --- 반응형 웹 디자인을 위한 미디어 쿼리 --- */

/* 중간 크기 화면 (예: 태블릿) */
@media (max-width: 600px) {
    body {
        padding: 10px;
    }

    .page-container {
        padding: 15px;
    }

    h1 {
        font-size: 1.5em;
        margin-bottom: 20px;
    }

    .location-item label {
        min-width: 50px;
        /* 레이블 최소 너비 약간 줄임 */
    }

    /* .location-item input[type="text"]는 flex-grow: 1로 이미 유연하게 조정됨 */

    .waypoint-text-label {
        font-size: 0.9rem;
    }

    .waypoint-item .waypoint-input-field {
        font-size: 0.9rem;
        /* flex-basis: 0; 와 flex-grow: 1 조합은 아이템이 공간을 채우도록 함 */
        /* 이미 flex-grow: 1이 기본 스타일이므로 여기서는 특별히 flex-basis를 0으로 할 필요는 없음 */
    }
}

/* 작은 크기 화면 (예: 모바일) */
@media (max-width: 400px) {
    .location-item {
        flex-direction: column;
        /* 레이블과 입력 필드를 수직으로 쌓음 */
        align-items: stretch;
        /* 자식 요소들이 전체 너비를 차지하도록 함 */
    }

    .location-item label {
        min-width: unset;
        /* 최소 너비 제한 해제 */
        width: 100%;
        margin-bottom: 5px;
        /* 레이블과 입력 필드 사이 간격 */
    }

    .location-item input[type="text"] {
        width: 100%;
    }

    /* .waypoint-item은 아이콘 + 텍스트/입력 필드 구조를 유지하되, 필요시 flex-wrap으로 줄바꿈됨 */
    .waypoint-item {
        /* 특별한 변경이 필요 없을 수 있으나, 필요시 아이콘과 입력 필드 배치를 조정 */
    }
}

#map {
    margin-top: 20px;
    border: 1px solid #dadce0;
    border-radius: 6px;
}

.next-page-link {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 20px;
}

.next-page-link a {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: #f0f2f5;
    color: #333;
    font-size: 1.5em;
    text-decoration: none;
}

/* 뒤로가기 버튼 컨테이너 (좌상단 고정) */
.back-btn-container {
    position: absolute;
    top: 24px;
    left: 24px;
    z-index: 10;
}

.back-btn {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: none;
    border: none;
    color: #4DD0E1;
    font-size: 28px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s;
}

.back-btn:hover {
    background: #e0f7fa;
}